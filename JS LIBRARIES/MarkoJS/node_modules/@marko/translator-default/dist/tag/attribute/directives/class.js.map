{"version":3,"sources":["../../../../src/tag/attribute/directives/class.js"],"names":["exit","tag","_","value","hub","file","isStringLiteral","confident","computed","evaluate","s","replaceWith","t","stringLiteral","nullLiteral","callExpression","node"],"mappings":"qJAAA;AACA;AACA;AACA,oG;;AAEe;AACbA,EAAAA,IAAI,CAACC,GAAD,EAAMC,CAAN,EAASC,KAAT,EAAgB;AAClB,UAAM;AACJC,MAAAA,GAAG,EAAE,EAAEC,IAAF,EADD;AAEFJ,IAAAA,GAFJ;AAGA,QAAI,CAAC,6BAAYA,GAAZ,CAAL,EAAuB;AACvB,QAAIE,KAAK,CAACG,eAAN,EAAJ,EAA6B;;AAE7B,UAAM,EAAEC,SAAF,EAAaJ,KAAK,EAAEK,QAApB,KAAiCL,KAAK,CAACM,QAAN,EAAvC;;AAEA,UAAMC,CAAC,GAAG,yBAAcF,QAAd,CAAV;AACAL,IAAAA,KAAK,CAACQ,WAAN;AACEJ,IAAAA,SAAS;AACLG,IAAAA,CAAC;AACCE,oBAAEC,aAAF,CAAgBH,CAAhB,CADD;AAECE,oBAAEE,WAAF,EAHG;AAIL;AACEF,oBAAEG,cAAF;AACE;AACEV,IAAAA,IADF;AAEE,2CAFF;AAGE,uBAHF,CADF;;AAME,KAACF,KAAK,CAACa,IAAP,CANF,CADF;;AASEb,IAAAA,KAAK,CAACa,IATR,CALN;;;AAiBD,GA5BY,E","sourcesContent":["import { types as t } from \"@marko/compiler\";\nimport { isNativeTag, importDefault } from \"@marko/babel-utils\";\nimport classToString from \"marko/src/runtime/helpers/class-value\";\nimport withPreviousLocation from \"../../../util/with-previous-location\";\n\nexport default {\n  exit(tag, _, value) {\n    const {\n      hub: { file }\n    } = tag;\n    if (!isNativeTag(tag)) return;\n    if (value.isStringLiteral()) return;\n\n    const { confident, value: computed } = value.evaluate();\n\n    const s = classToString(computed);\n    value.replaceWith(\n      confident\n        ? s\n          ? t.stringLiteral(s)\n          : t.nullLiteral()\n        : withPreviousLocation(\n            t.callExpression(\n              importDefault(\n                file,\n                \"marko/src/runtime/helpers/class-value\",\n                \"marko_class_merge\"\n              ),\n              [value.node]\n            ),\n            value.node\n          )\n    );\n  }\n};\n"],"file":"class.js"}