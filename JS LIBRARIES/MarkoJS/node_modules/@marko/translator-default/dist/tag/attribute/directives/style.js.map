{"version":3,"sources":["../../../../src/tag/attribute/directives/style.js"],"names":["exit","tag","_","value","hub","file","isStringLiteral","confident","computed","evaluate","replaceWith","t","stringLiteral","callExpression","node"],"mappings":"qJAAA;AACA;AACA;AACA,oG;;AAEe;AACbA,EAAAA,IAAI,CAACC,GAAD,EAAMC,CAAN,EAASC,KAAT,EAAgB;AAClB,UAAM;AACJC,MAAAA,GAAG,EAAE,EAAEC,IAAF,EADD;AAEFJ,IAAAA,GAFJ;AAGA,QAAIE,KAAK,CAACG,eAAN,EAAJ,EAA6B;AAC7B,QAAI,CAAC,6BAAYL,GAAZ,CAAL,EAAuB;;AAEvB,UAAM,EAAEM,SAAF,EAAaJ,KAAK,EAAEK,QAApB,KAAiCL,KAAK,CAACM,QAAN,EAAvC;AACAN,IAAAA,KAAK,CAACO,WAAN;AACE;AACEH,IAAAA,SAAS;AACLI,oBAAEC,aAAF,CAAgB,yBAAcJ,QAAd,KAA2B,EAA3C,CADK;AAELG,oBAAEE,cAAF;AACE;AACER,IAAAA,IADF;AAEE,2CAFF;AAGE,uBAHF,CADF;;AAME,KAACF,KAAK,CAACW,IAAP,CANF,CAHN;;AAWEX,IAAAA,KAAK,CAACW,IAXR,CADF;;;AAeD,GAxBY,E","sourcesContent":["import { types as t } from \"@marko/compiler\";\nimport { isNativeTag, importDefault } from \"@marko/babel-utils\";\nimport styleToString from \"marko/src/runtime/helpers/style-value\";\nimport withPreviousLocation from \"../../../util/with-previous-location\";\n\nexport default {\n  exit(tag, _, value) {\n    const {\n      hub: { file }\n    } = tag;\n    if (value.isStringLiteral()) return;\n    if (!isNativeTag(tag)) return;\n\n    const { confident, value: computed } = value.evaluate();\n    value.replaceWith(\n      withPreviousLocation(\n        confident\n          ? t.stringLiteral(styleToString(computed) || \"\")\n          : t.callExpression(\n              importDefault(\n                file,\n                \"marko/src/runtime/helpers/style-value\",\n                \"marko_style_merge\"\n              ),\n              [value.node]\n            ),\n        value.node\n      )\n    );\n  }\n};\n"],"file":"style.js"}