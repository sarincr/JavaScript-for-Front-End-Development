"use strict";var _interopRequireDefault = require("@babel/runtime/helpers/interopRequireDefault");exports.__esModule = true;exports.default = void 0;var _compiler = require("@marko/compiler");
var _babelUtils = require("@marko/babel-utils");
var _classValue = _interopRequireDefault(require("marko/src/runtime/helpers/class-value"));
var _withPreviousLocation = _interopRequireDefault(require("../../../util/with-previous-location"));var _default =

{
  exit(tag, _, value) {
    const {
      hub: { file } } =
    tag;
    if (!(0, _babelUtils.isNativeTag)(tag)) return;
    if (value.isStringLiteral()) return;

    const { confident, value: computed } = value.evaluate();

    const s = (0, _classValue.default)(computed);
    value.replaceWith(
    confident ?
    s ?
    _compiler.types.stringLiteral(s) :
    _compiler.types.nullLiteral() :
    (0, _withPreviousLocation.default)(
    _compiler.types.callExpression(
    (0, _babelUtils.importDefault)(
    file,
    "marko/src/runtime/helpers/class-value",
    "marko_class_merge"),

    [value.node]),

    value.node));


  } };exports.default = _default;
//# sourceMappingURL=class.js.map