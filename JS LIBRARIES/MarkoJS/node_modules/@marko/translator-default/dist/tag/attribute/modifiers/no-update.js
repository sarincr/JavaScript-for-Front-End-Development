"use strict";exports.__esModule = true;exports.default = void 0;var _babelUtils = require("@marko/babel-utils");

const hasMonkeyPatch = new WeakSet();

/**
 * Does nothing in html mode.
 */var _default =
{
  exit(tag, attr) {
    const {
      node,
      hub: { file } } =
    tag;
    const isVDOM = file.markoOpts.output !== "html";

    if (!node.preserveAttrs) {
      node.preserveAttrs = [];

      if (isVDOM && !hasMonkeyPatch.has(file)) {
        hasMonkeyPatch.add(file);
        (0, _babelUtils.importDefault)(file, "marko/src/runtime/vdom/preserve-attrs");
      }
    }

    node.preserveAttrs.push(attr.node.name);
  } };exports.default = _default;
//# sourceMappingURL=no-update.js.map