{"version":3,"sources":["../src/register.js"],"names":["compiler","require","requiredOptions","modules","module","exports","register","extensions","options","filename","_compile","compileFileSync","Object","assign","sourceMaps","code"],"mappings":"AAAA;;AAEA,MAAMA,QAAQ,GAAGC,OAAO,CAAC,GAAD,CAAxB;AACA,MAAMC,eAAe,GAAG,EAAEC,OAAO,EAAE,KAAX,EAAxB;;AAEAC,MAAM,CAACC,OAAP,GAAiBC,QAAjB;AACAA,QAAQ;;AAER,SAASA,QAAT,CAAkB,EAAEC,UAAU,GAAGN,OAAO,CAACM,UAAvB,EAAmC,GAAGC,OAAtC,KAAkD,EAApE,EAAwE;AACtED,EAAAA,UAAU,CAAC,QAAD,CAAV,GAAuB,CAACH,MAAD,EAASK,QAAT;AACrBL,EAAAA,MAAM,CAACM,QAAP;AACEV,EAAAA,QAAQ,CAACW,eAAT;AACEF,EAAAA,QADF;AAEEG,EAAAA,MAAM,CAACC,MAAP;AACE;AACA,IAAEC,UAAU,EAAE,gBAAgB,QAAhB,GAA2B,KAAzC,EAFF;AAGEN,EAAAA,OAHF;AAIEN,EAAAA,eAJF,CAFF;;AAQEa,EAAAA,IATJ;AAUEN,EAAAA,QAVF,CADF;;AAaA,SAAOF,UAAP;AACD","sourcesContent":["\"use strict\";\n\nconst compiler = require(\".\");\nconst requiredOptions = { modules: \"cjs\" };\n\nmodule.exports = register;\nregister();\n\nfunction register({ extensions = require.extensions, ...options } = {}) {\n  extensions[\".marko\"] = (module, filename) =>\n    module._compile(\n      compiler.compileFileSync(\n        filename,\n        Object.assign(\n          // eslint-disable-next-line no-constant-condition\n          { sourceMaps: \"MARKO_DEBUG\" ? \"inline\" : false },\n          options,\n          requiredOptions\n        )\n      ).code,\n      filename\n    );\n  return extensions;\n}\n"],"file":"register.js"}