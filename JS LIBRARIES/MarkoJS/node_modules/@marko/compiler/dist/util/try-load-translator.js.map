{"version":3,"sources":["../../src/util/try-load-translator.js"],"names":["cache","requested","config","translator","cached","markoModules","require","err"],"mappings":"uJAAA;AACA;AACA,MAAMA,KAAK,GAAG,EAAd;;AAEe,kBAAUC,SAAS,GAAGC,gBAAOC,UAA7B,EAAyC;AACtD,MAAI,OAAOF,SAAP,KAAqB,QAAzB,EAAmC;AACjC,UAAMG,MAAM,GAAGJ,KAAK,CAACC,SAAD,CAApB;AACA,QAAIG,MAAJ,EAAY;AACV,aAAOA,MAAP;AACD;;AAED,QAAID,UAAJ;;AAEA,QAAI;AACFA,MAAAA,UAAU,GAAGE,iBAAaC,OAAb,CAAqBL,SAArB,CAAb;AACD,KAFD,CAEE,OAAOM,GAAP,EAAY;AACZ,UAAI;AACFJ,QAAAA,UAAU,GAAGE,iBAAaC,OAAb,CAAsB,qBAAoBL,SAAU,EAApD,CAAb;AACD,OAFD,CAEE,MAAM;AACN,YAAI;AACFE,UAAAA,UAAU,GAAGE,iBAAaC,OAAb,CAAsB,oBAAmBL,SAAU,EAAnD,CAAb;AACD,SAFD,CAEE,MAAM;AACN,gBAAMM,GAAN;AACD;AACF;AACF;;AAED,WAAQP,KAAK,CAACC,SAAD,CAAL,GAAmBE,UAA3B;AACD;;AAED,SAAOF,SAAP;AACD","sourcesContent":["import markoModules from \"../../modules\";\nimport config from \"../config\";\nconst cache = {};\n\nexport default function (requested = config.translator) {\n  if (typeof requested === \"string\") {\n    const cached = cache[requested];\n    if (cached) {\n      return cached;\n    }\n\n    let translator;\n\n    try {\n      translator = markoModules.require(requested);\n    } catch (err) {\n      try {\n        translator = markoModules.require(`@marko/translator-${requested}`);\n      } catch {\n        try {\n          translator = markoModules.require(`marko-translator-${requested}`);\n        } catch {\n          throw err;\n        }\n      }\n    }\n\n    return (cache[requested] = translator);\n  }\n\n  return requested;\n}\n"],"file":"try-load-translator.js"}