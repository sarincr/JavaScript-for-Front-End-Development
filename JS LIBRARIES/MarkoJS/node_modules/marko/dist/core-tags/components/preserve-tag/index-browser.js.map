{"version":3,"sources":["../../../../src/core-tags/components/preserve-tag/index-browser.js"],"names":["module","exports","render","input","out","componentsContext","isHydrate","ownerComponent","shouldPreserve","i","referenceComponent","key","checkKey","parentComponent","id","isPreserved","Boolean","n","b","beginElement","endElement","renderBody","bf","ef"],"mappings":"aAAAA,MAAM,CAACC,OAAP,GAAiB,SAASC,MAAT,CAAgBC,KAAhB,EAAuBC,GAAvB,EAA4B;AAC3C,MAAIC,iBAAiB,GAAGD,GAAG,GAA3B;AACA,MAAIE,SAAS;AACXD,EAAAA,iBAAiB,IAAIA,iBAAiB,GAAjB,GADvB;AAEA,MAAIE,cAAc,GAAGH,GAAG,GAAH,GAArB;AACA,MAAII,cAAc,GAAG,EAAE,OAAOL,KAAT,KAAmBA,KAAK,CAACM,CAA9C;AACA,MAAIC,kBAAkB,GAAGH,cAAzB;AACA,MAAII,GAAG,GAAGP,GAAG,GAAb;AACA,MAAIQ,QAAQ,GAAGD,GAAf;;AAEA,MAAIA,GAAG,CAAC,CAAD,CAAH,KAAW,GAAf,EAAoB;AAClB,QAAIE,eAAe,GAAGR,iBAAiB,GAAjB,GAAtB;AACA,QAAIE,cAAc,KAAKM,eAAvB,EAAwC;AACtCH,MAAAA,kBAAkB,GAAGG,eAArB;AACAD,MAAAA,QAAQ,IAAI,MAAML,cAAc,CAACO,EAAjC;AACD;AACF;;AAED,MAAIC,WAAW,GAAGC,OAAO;AACvBR,EAAAA,cAAc;AACXF,EAAAA,SAAS,IAAII,kBAAkB,GAAlB,CAAoCE,QAApC,CADF,CADS,CAAzB;;;AAKA,MAAIT,KAAK,CAACc,CAAV,EAAa;AACX,QAAIF,WAAJ,EAAiB;AACf,UAAIZ,KAAK,CAACe,CAAV,EAAa;AACXd,QAAAA,GAAG,GAAH,MAAgC,IAAhC;AACD,OAFD,MAEO;AACLA,QAAAA,GAAG,CAACe,YAAJ,CAAiB,EAAjB,EAAqB,IAArB,EAA2BR,GAA3B,EAAgCJ,cAAhC;AACAH,QAAAA,GAAG,GAAH,MAA4B,IAA5B;AACAA,QAAAA,GAAG,CAACgB,UAAJ;AACD;AACF,KARD,MAQO,IAAIjB,KAAK,CAACkB,UAAV,EAAsB;AAC3BlB,MAAAA,KAAK,CAACkB,UAAN,CAAiBjB,GAAjB;AACD;AACF,GAZD,MAYO;AACLA,IAAAA,GAAG,CAACkB,EAAJ,CAAOX,GAAP,EAAYJ,cAAZ,EAA4BC,cAA5B;;AAEA,QAAI,CAACO,WAAD,IAAgBZ,KAAK,CAACkB,UAA1B,EAAsC;AACpClB,MAAAA,KAAK,CAACkB,UAAN,CAAiBjB,GAAjB;AACD;;AAEDA,IAAAA,GAAG,CAACmB,EAAJ;AACD;AACF,CA5CD","sourcesContent":["module.exports = function render(input, out) {\n  var componentsContext = out.___components;\n  var isHydrate =\n    componentsContext && componentsContext.___globalContext.___isHydrate;\n  var ownerComponent = out.___assignedComponentDef.___component;\n  var shouldPreserve = !(\"i\" in input) || input.i;\n  var referenceComponent = ownerComponent;\n  var key = out.___assignedKey;\n  var checkKey = key;\n\n  if (key[0] !== \"@\") {\n    var parentComponent = componentsContext.___componentDef.___component;\n    if (ownerComponent !== parentComponent) {\n      referenceComponent = parentComponent;\n      checkKey += \":\" + ownerComponent.id;\n    }\n  }\n\n  var isPreserved = Boolean(\n    shouldPreserve &&\n      (isHydrate || referenceComponent.___keyedElements[checkKey])\n  );\n\n  if (input.n) {\n    if (isPreserved) {\n      if (input.b) {\n        out.___parent.___preserveBody = true;\n      } else {\n        out.beginElement(\"\", null, key, ownerComponent);\n        out.___parent.___preserve = true;\n        out.endElement();\n      }\n    } else if (input.renderBody) {\n      input.renderBody(out);\n    }\n  } else {\n    out.bf(key, ownerComponent, shouldPreserve);\n\n    if (!isPreserved && input.renderBody) {\n      input.renderBody(out);\n    }\n\n    out.ef();\n  }\n};\n"],"file":"index-browser.js"}