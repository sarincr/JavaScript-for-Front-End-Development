{"version":3,"sources":["../../../src/runtime/setImmediate/index-worker.js"],"names":["channel","MessageChannel","queue","port1","onmessage","callbacks","i","length","module","exports","cb","push","port2","postMessage"],"mappings":"aAAA,IAAIA,OAAO,GAAG,IAAIC,cAAJ,EAAd;AACA,IAAIC,KAAK,GAAG,EAAZ;;AAEAF,OAAO,CAACG,KAAR,CAAcC,SAAd,GAA0B,YAAY;AACpC,MAAIC,SAAS,GAAGH,KAAhB;AACAA,EAAAA,KAAK,GAAG,EAAR;AACA,OAAK,IAAII,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAGD,SAAS,CAACE,MAA9B,EAAsCD,CAAC,EAAvC,EAA2C;AACzCD,IAAAA,SAAS,CAACC,CAAD,CAAT;AACD;AACF,CAND;;AAQAE,MAAM,CAACC,OAAP,GAAiB,UAAUC,EAAV,EAAc;AAC7B,MAAIR,KAAK,CAACS,IAAN,CAAWD,EAAX,MAAmB,CAAvB,EAA0B;AACxBV,IAAAA,OAAO,CAACY,KAAR,CAAcC,WAAd,CAA0B,CAA1B;AACD;AACF,CAJD","sourcesContent":["var channel = new MessageChannel();\nvar queue = [];\n\nchannel.port1.onmessage = function () {\n  var callbacks = queue;\n  queue = [];\n  for (var i = 0; i < callbacks.length; i++) {\n    callbacks[i]();\n  }\n};\n\nmodule.exports = function (cb) {\n  if (queue.push(cb) === 1) {\n    channel.port2.postMessage(0);\n  }\n};\n"],"file":"index-worker.js"}