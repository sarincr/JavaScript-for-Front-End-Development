{"version":3,"sources":["../../../../src/runtime/vdom/morphdom/fragment.js"],"names":["helpers","require","insertBefore","fragmentPrototype","nodeType","firstChild","startNode","nextSibling","endNode","undefined","lastChild","previousSibling","parentNode","detachedContainer","namespaceURI","nodes","current","push","newChildNode","referenceNode","actualReference","insertInto","newParentNode","forEach","node","remove","appendChild","createFragmentNode","nextNode","fragment","Object","create","isRoot","ownerDocument","document","createComment","createTextNode","createDocumentFragment","beginFragmentNode","exports"],"mappings":"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","sourcesContent":["var helpers = require(\"./helpers\");\nvar insertBefore = helpers.___insertBefore;\n\nvar fragmentPrototype = {\n  nodeType: 12,\n  get firstChild() {\n    var firstChild = this.startNode.nextSibling;\n    return firstChild === this.endNode ? undefined : firstChild;\n  },\n  get lastChild() {\n    var lastChild = this.endNode.previousSibling;\n    return lastChild === this.startNode ? undefined : lastChild;\n  },\n  get parentNode() {\n    var parentNode = this.startNode.parentNode;\n    return parentNode === this.detachedContainer ? undefined : parentNode;\n  },\n  get namespaceURI() {\n    return this.startNode.parentNode.namespaceURI;\n  },\n  get nextSibling() {\n    return this.endNode.nextSibling;\n  },\n  get nodes() {\n    // eslint-disable-next-line no-constant-condition\n    if (\"MARKO_DEBUG\") {\n      if (this.___markersRemovedError) {\n        throw this.___markersRemovedError(\"Cannot get fragment nodes.\");\n      }\n    }\n    var nodes = [];\n    var current = this.startNode;\n    while (current !== this.endNode) {\n      nodes.push(current);\n      current = current.nextSibling;\n    }\n    nodes.push(current);\n    return nodes;\n  },\n  insertBefore: function (newChildNode, referenceNode) {\n    var actualReference = referenceNode == null ? this.endNode : referenceNode;\n    return insertBefore(\n      newChildNode,\n      actualReference,\n      this.startNode.parentNode\n    );\n  },\n  insertInto: function (newParentNode, referenceNode) {\n    this.nodes.forEach(function (node) {\n      insertBefore(node, referenceNode, newParentNode);\n    }, this);\n    return this;\n  },\n  remove: function () {\n    this.nodes.forEach(function (node) {\n      this.detachedContainer.appendChild(node);\n    }, this);\n  }\n};\n\nfunction createFragmentNode(startNode, nextNode, parentNode) {\n  var fragment = Object.create(fragmentPrototype);\n  var isRoot = startNode && startNode.ownerDocument === startNode.parentNode;\n  fragment.startNode = isRoot\n    ? document.createComment(\"\")\n    : document.createTextNode(\"\");\n  fragment.endNode = isRoot\n    ? document.createComment(\"\")\n    : document.createTextNode(\"\");\n  fragment.startNode.fragment = fragment;\n  fragment.endNode.fragment = fragment;\n  var detachedContainer = (fragment.detachedContainer =\n    document.createDocumentFragment());\n  parentNode =\n    parentNode || (startNode && startNode.parentNode) || detachedContainer;\n  insertBefore(fragment.startNode, startNode, parentNode);\n  insertBefore(fragment.endNode, nextNode, parentNode);\n  return fragment;\n}\n\nfunction beginFragmentNode(startNode, parentNode) {\n  var fragment = createFragmentNode(startNode, null, parentNode);\n  fragment.___finishFragment = function (nextNode) {\n    fragment.___finishFragment = null;\n    insertBefore(\n      fragment.endNode,\n      nextNode,\n      parentNode || startNode.parentNode\n    );\n  };\n  return fragment;\n}\n\nexports.___createFragmentNode = createFragmentNode;\nexports.___beginFragmentNode = beginFragmentNode;\n"],"file":"fragment.js"}