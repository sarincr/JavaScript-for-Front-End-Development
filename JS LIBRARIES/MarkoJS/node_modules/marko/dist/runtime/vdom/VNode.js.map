{"version":3,"sources":["../../../src/runtime/vdom/VNode.js"],"names":["VNode","prototype","finalChildCount","ownerComponent","firstChild","nestedFirstChild","nextSibling","parentNode","child","childValue","TypeError","lastChild","finishChild","module","exports"],"mappings":"cAAA;AACA,SAASA,KAAT,GAAiB,CAAE;;AAEnBA,KAAK,CAACC,SAAN,GAAkB;AAChB,OAAU,UAAUC,eAAV,EAA2BC,cAA3B,EAA2C;AACnD,eAA0BD,eAA1B;AACA,eAAqB,CAArB;AACA,eAA6B,IAA7B;AACA,eAAoB,IAApB;AACA,eAAqB,IAArB;AACA,eAA8B,IAA9B;AACA,eAAyBC,cAAzB;AACD,GATe;;AAWhB,YAAoB;AAClB,QAAIC,UAAU,GAAG,QAAjB;;AAEA,QAAIA,UAAU,IAAIA,UAAU,IAA5B,EAAkD;AAChD,UAAIC,gBAAgB,GAAGD,UAAU,IAAjC;AACA;AACA;AACA;AACA;AACA,aAAOC,gBAAgB,IAAID,UAAU,IAArC;AACD;;AAED,WAAOA,UAAP;AACD,GAxBe;;AA0BhB,YAAqB;AACnB,QAAIE,WAAW,GAAG,QAAlB;;AAEA,QAAIA,WAAJ,EAAiB;AACf,UAAIA,WAAW,IAAf,EAAqC;AACnC,YAAIF,UAAU,GAAGE,WAAW,IAA5B;AACA,eAAOF,UAAU,IAAIE,WAAW,IAAhC;AACD;AACF,KALD,MAKO;AACL,UAAIC,UAAU,GAAG,QAAjB;AACA,UAAIA,UAAU,IAAIA,UAAU,IAA5B,EAAkD;AAChD,eAAOA,UAAU,IAAjB;AACD;AACF;;AAED,WAAOD,WAAP;AACD,GA1Ce;;AA4ChB,OAAgB,UAAUE,KAAV,EAAiB;AAC/B;;AAEA,QAAI,aAAqB,UAAzB,EAAqC;AACnC,UAAIA,KAAK,IAAT,EAAmB;AACjB,YAAIC,UAAU,GAAGD,KAAK,IAAtB;AACA,mBAAwB,CAAC,YAAyB,EAA1B,IAAgCC,UAAxD;AACD,OAHD,MAGO,IAAID,KAAK,GAAL,IAAqBA,KAAK,GAA9B,EAAgD;AACrD,mBAAgC,IAAhC;AACD,OAFM,MAEA;AACL,cAAME,SAAS,EAAf;AACD;AACF,KATD,MASO;AACL,UAAIC,SAAS,GAAG,QAAhB;;AAEAH,MAAAA,KAAK,IAAL,GAAsB,IAAtB;;AAEA,UAAIG,SAAJ,EAAe;AACbA,QAAAA,SAAS,IAAT,GAAmCH,KAAnC;AACD,OAFD,MAEO;AACL,mBAA6BA,KAA7B;AACD;;AAED,iBAAoBA,KAApB;AACD;;AAED,WAAOA,KAAP;AACD,GAvEe;;AAyEhB,OAAgB,SAASI,WAAT,GAAuB;AACrC,QAAI,aAAuB,QAAvB,IAAkD,QAAtD,EAA0E;AACxE,aAAO,cAAP;AACD,KAFD,MAEO;AACL,aAAO,IAAP;AACD;AACF;;AAED;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AA/FgB,CAAlB;;AAkGAC,MAAM,CAACC,OAAP,GAAiBd,KAAjB","sourcesContent":["/* jshint newcap:false */\nfunction VNode() {}\n\nVNode.prototype = {\n  ___VNode: function (finalChildCount, ownerComponent) {\n    this.___finalChildCount = finalChildCount;\n    this.___childCount = 0;\n    this.___firstChildInternal = null;\n    this.___lastChild = null;\n    this.___parentNode = null;\n    this.___nextSiblingInternal = null;\n    this.___ownerComponent = ownerComponent;\n  },\n\n  get ___firstChild() {\n    var firstChild = this.___firstChildInternal;\n\n    if (firstChild && firstChild.___DocumentFragment) {\n      var nestedFirstChild = firstChild.___firstChild;\n      // The first child is a DocumentFragment node.\n      // If the DocumentFragment node has a first child then we will return that.\n      // Otherwise, the DocumentFragment node is not *really* the first child and\n      // we need to skip to its next sibling\n      return nestedFirstChild || firstChild.___nextSibling;\n    }\n\n    return firstChild;\n  },\n\n  get ___nextSibling() {\n    var nextSibling = this.___nextSiblingInternal;\n\n    if (nextSibling) {\n      if (nextSibling.___DocumentFragment) {\n        var firstChild = nextSibling.___firstChild;\n        return firstChild || nextSibling.___nextSibling;\n      }\n    } else {\n      var parentNode = this.___parentNode;\n      if (parentNode && parentNode.___DocumentFragment) {\n        return parentNode.___nextSibling;\n      }\n    }\n\n    return nextSibling;\n  },\n\n  ___appendChild: function (child) {\n    this.___childCount++;\n\n    if (this.___nodeName === \"textarea\") {\n      if (child.___Text) {\n        var childValue = child.___nodeValue;\n        this.___valueInternal = (this.___valueInternal || \"\") + childValue;\n      } else if (child.___preserve || child.___preserveBody) {\n        this.___preserveTextAreaValue = true;\n      } else {\n        throw TypeError();\n      }\n    } else {\n      var lastChild = this.___lastChild;\n\n      child.___parentNode = this;\n\n      if (lastChild) {\n        lastChild.___nextSiblingInternal = child;\n      } else {\n        this.___firstChildInternal = child;\n      }\n\n      this.___lastChild = child;\n    }\n\n    return child;\n  },\n\n  ___finishChild: function finishChild() {\n    if (this.___childCount === this.___finalChildCount && this.___parentNode) {\n      return this.___parentNode.___finishChild();\n    } else {\n      return this;\n    }\n  }\n\n  // ,toJSON: function() {\n  //     var clone = Object.assign({\n  //         nodeType: this.nodeType\n  //     }, this);\n  //\n  //     for (var k in clone) {\n  //         if (k.startsWith('_')) {\n  //             delete clone[k];\n  //         }\n  //     }\n  //     delete clone._nextSibling;\n  //     delete clone._lastChild;\n  //     delete clone.parentNode;\n  //     return clone;\n  // }\n};\n\nmodule.exports = VNode;\n"],"file":"VNode.js"}