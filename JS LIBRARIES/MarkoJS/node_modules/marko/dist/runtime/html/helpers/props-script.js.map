{"version":3,"sources":["../../../../src/runtime/html/helpers/props-script.js"],"names":["escapeDoubleQuotes","require","escapeScript","assignPropsFunction","replace","trim","module","exports","propsForPreviousNode","props","out","cspNonce","global","nonceAttr","w","JSON","stringify"],"mappings":"AAAA;;AAEA,IAAIA,kBAAkB,GAAGC,OAAO,CAAC,iBAAD,CAAP,IAAzB;AACA,IAAIC,YAAY,GAAGD,OAAO,CAAC,6BAAD,CAA1B;AACA,IAAIE,mBAAmB,GAAI;AAC3B;AACA;AACA;AACA;AACA;AACA;AACA,CAP0B;AAQvBC,OARuB,CAQf,MARe,EAQP,GARO;AASvBA,OATuB,CASf,aATe,EASA,MATA;AAUvBA,OAVuB,CAUf,aAVe,EAUA,MAVA;AAWvBC,IAXuB,EAA1B;;AAaAC,MAAM,CAACC,OAAP,GAAiB,SAASC,oBAAT,CAA8BC,KAA9B,EAAqCC,GAArC,EAA0C;AACzD,MAAIC,QAAQ,GAAGD,GAAG,CAACE,MAAJ,CAAWD,QAA1B;AACA,MAAIE,SAAS,GAAGF,QAAQ;AACpB,eAAaX,kBAAkB,CAACW,QAAD,CAA/B,GAA4C,GADxB;AAEpB,IAFJ;;AAIAD,EAAAA,GAAG,CAACI,CAAJ,CAAM,YAAYD,SAAZ,GAAwB,GAA9B;;AAEA,MAAI,CAACH,GAAG,CAACE,MAAJ,CAAWT,mBAAhB,EAAqC;AACnCO,IAAAA,GAAG,CAACI,CAAJ,CAAMX,mBAAN;AACAO,IAAAA,GAAG,CAACE,MAAJ,CAAWT,mBAAX,GAAiC,IAAjC;AACD;;AAEDO,EAAAA,GAAG,CAACI,CAAJ,CAAM,SAASZ,YAAY,CAACa,IAAI,CAACC,SAAL,CAAeP,KAAf,CAAD,CAArB,GAA+C,aAArD;AACD,CAdD","sourcesContent":["\"use strict\";\n\nvar escapeDoubleQuotes = require(\"./escape-quotes\").___escapeDoubleQuotes;\nvar escapeScript = require(\"./escape-script-placeholder\");\nvar assignPropsFunction = `\n    function ap_(p) {\n        var s = document.currentScript;\n        var ps = s.previousSibling;\n        for (var k in p) ps[k] = p[k];\n        s.parentNode.removeChild(s);\n    }\n`\n  .replace(/\\s+/g, \" \")\n  .replace(/([\\W]) (.)/g, \"$1$2\")\n  .replace(/(.) ([\\W])/g, \"$1$2\")\n  .trim();\n\nmodule.exports = function propsForPreviousNode(props, out) {\n  var cspNonce = out.global.cspNonce;\n  var nonceAttr = cspNonce\n    ? ' nonce=\"' + escapeDoubleQuotes(cspNonce) + '\"'\n    : \"\";\n\n  out.w(\"<script\" + nonceAttr + \">\");\n\n  if (!out.global.assignPropsFunction) {\n    out.w(assignPropsFunction);\n    out.global.assignPropsFunction = true;\n  }\n\n  out.w(\"ap_(\" + escapeScript(JSON.stringify(props)) + \");</script>\");\n};\n"],"file":"props-script.js"}