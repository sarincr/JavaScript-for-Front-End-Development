{"version":3,"sources":["../../../src/runtime/components/defineComponent.js"],"names":["BaseState","require","BaseComponent","inherit","module","exports","defineComponent","def","renderer","ComponentClass","proto","type","prototype","TypeError","Component","id","call","State","component"],"mappings":"AAAA;AACA;;AAEA,IAAIA,SAAS,GAAGC,OAAO,CAAC,SAAD,CAAvB;AACA,IAAIC,aAAa,GAAGD,OAAO,CAAC,aAAD,CAA3B;AACA,IAAIE,OAAO,GAAGF,OAAO,CAAC,qBAAD,CAArB;;AAEAG,MAAM,CAACC,OAAP,GAAiB,SAASC,eAAT,CAAyBC,GAAzB,EAA8BC,QAA9B,EAAwC;AACvD,MAAID,GAAG,GAAP,EAAwB;AACtB,WAAOA,GAAP;AACD;;AAED,MAAIE,cAAc,GAAG,YAAY,CAAE,CAAnC;AACA,MAAIC,KAAJ;;AAEA,MAAIC,IAAI,GAAG,OAAOJ,GAAlB;;AAEA,MAAII,IAAI,IAAI,UAAZ,EAAwB;AACtBD,IAAAA,KAAK,GAAGH,GAAG,CAACK,SAAZ;AACD,GAFD,MAEO,IAAID,IAAI,IAAI,QAAZ,EAAsB;AAC3BD,IAAAA,KAAK,GAAGH,GAAR;AACD,GAFM,MAEA;AACL,UAAMM,SAAS,EAAf;AACD;;AAEDJ,EAAAA,cAAc,CAACG,SAAf,GAA2BF,KAA3B;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,WAASI,SAAT,CAAmBC,EAAnB,EAAuB;AACrBb,IAAAA,aAAa,CAACc,IAAd,CAAmB,IAAnB,EAAyBD,EAAzB;AACD;;AAED,MAAI,CAACL,KAAK,GAAV,EAA2B;AACzB;AACAP,IAAAA,OAAO,CAACM,cAAD,EAAiBP,aAAjB,CAAP;AACD;;AAED;AACA;AACAQ,EAAAA,KAAK,GAAGI,SAAS,CAACF,SAAV,GAAsBH,cAAc,CAACG,SAA7C;;AAEA;;AAEA;AACA;AACAE,EAAAA,SAAS,GAAT,GAA2B,IAA3B;;AAEA,WAASG,KAAT,CAAeC,SAAf,EAA0B;AACxBlB,IAAAA,SAAS,CAACgB,IAAV,CAAe,IAAf,EAAqBE,SAArB;AACD;AACDf,EAAAA,OAAO,CAACc,KAAD,EAAQjB,SAAR,CAAP;AACAU,EAAAA,KAAK,IAAL,GAAiBO,KAAjB;AACAP,EAAAA,KAAK,IAAL,GAAoBF,QAApB;;AAEA,SAAOM,SAAP;AACD,CArDD","sourcesContent":["\"use strict\";\n/* jshint newcap:false */\n\nvar BaseState = require(\"./State\");\nvar BaseComponent = require(\"./Component\");\nvar inherit = require(\"raptor-util/inherit\");\n\nmodule.exports = function defineComponent(def, renderer) {\n  if (def.___isComponent) {\n    return def;\n  }\n\n  var ComponentClass = function () {};\n  var proto;\n\n  var type = typeof def;\n\n  if (type == \"function\") {\n    proto = def.prototype;\n  } else if (type == \"object\") {\n    proto = def;\n  } else {\n    throw TypeError();\n  }\n\n  ComponentClass.prototype = proto;\n\n  // We don't use the constructor provided by the user\n  // since we don't invoke their constructor until\n  // we have had a chance to do our own initialization.\n  // Instead, we store their constructor in the \"initComponent\"\n  // property and that method gets called later inside\n  // init-components-browser.js\n  function Component(id) {\n    BaseComponent.call(this, id);\n  }\n\n  if (!proto.___isComponent) {\n    // Inherit from Component if they didn't already\n    inherit(ComponentClass, BaseComponent);\n  }\n\n  // The same prototype will be used by our constructor after\n  // we he have set up the prototype chain using the inherit function\n  proto = Component.prototype = ComponentClass.prototype;\n\n  // proto.constructor = def.constructor = Component;\n\n  // Set a flag on the constructor function to make it clear this is\n  // a component so that we can short-circuit this work later\n  Component.___isComponent = true;\n\n  function State(component) {\n    BaseState.call(this, component);\n  }\n  inherit(State, BaseState);\n  proto.___State = State;\n  proto.___renderer = renderer;\n\n  return Component;\n};\n"],"file":"defineComponent.js"}