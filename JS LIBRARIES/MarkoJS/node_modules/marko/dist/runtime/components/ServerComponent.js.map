{"version":3,"sources":["../../../src/runtime/components/ServerComponent.js"],"names":["ServerComponent","constructor","id","input","out","typeName","customEvents","scope","undefined","onCreate","onInput","onRender","newInput","state","newState","elId","nestedId","String","indexOf","substring","prototype","getElId","module","exports"],"mappings":"AAAA;;;AAGA,MAAMA,eAAN,CAAsB;AACpBC,EAAAA,WAAW,CAACC,EAAD,EAAKC,KAAL,EAAYC,GAAZ,EAAiBC,QAAjB,EAA2BC,YAA3B,EAAyCC,KAAzC,EAAgD;AACzD,SAAKL,EAAL,GAAUA,EAAV;AACA,cAAuBI,YAAvB;AACA,cAAgBC,KAAhB;AACA,SAAKF,QAAL,GAAgBA,QAAhB;AACA,cAA4BG,SAA5B,CALyD,CAKlB;AACvC,eAA0C,CAA1C;;AAEA,SAAKC,QAAL,CAAcN,KAAd,EAAqBC,GAArB;AACA,eAAuB,KAAKM,OAAL,CAAaP,KAAb,EAAoBC,GAApB,KAA4BD,KAAnD;AACA,QAAI,YAAkBK,SAAtB,EAAiC;AAC/B,gBAAgB,QAAhB;AACD;AACD,SAAKG,QAAL,CAAcP,GAAd;AACD;;AAEQ,MAALD,KAAK,CAACS,QAAD,EAAW;AAClB,cAAgBA,QAAhB;AACD;;AAEQ,MAALT,KAAK,GAAG;AACV,WAAO,OAAP;AACD;;AAEQ,MAALU,KAAK,CAACC,QAAD,EAAW;AAClB,cAAgBA,QAAhB;AACD;;AAEQ,MAALD,KAAK,GAAG;AACV,WAAO,OAAP;AACD;;AAED,YAAkB;AAChB,WAAO,OAAP;AACD;;AAEDE,EAAAA,IAAI,CAACC,QAAD,EAAW;AACb,QAAId,EAAE,GAAG,KAAKA,EAAd;;AAEA,QAAIc,QAAQ,IAAI,IAAhB,EAAsB;AACpB,aAAOd,EAAP;AACD,KAFD,MAEO;AACL,UAAI,OAAOc,QAAP,KAAoB,QAAxB,EAAkC;AAChC;;;;;AAKAA,QAAAA,QAAQ,GAAGC,MAAM,CAACD,QAAD,CAAjB;AACD;;AAED,UAAIA,QAAQ,CAACE,OAAT,CAAiB,GAAjB,MAA0B,CAA9B,EAAiC;AAC/BhB,QAAAA,EAAE,GAAG,MAAMA,EAAX;AACAc,QAAAA,QAAQ,GAAGA,QAAQ,CAACG,SAAT,CAAmB,CAAnB,CAAX;AACD;;AAED,aAAOjB,EAAE,GAAG,GAAL,GAAWc,QAAlB;AACD;AACF;;AAEDP,EAAAA,QAAQ,GAAG,CAAE;AACbC,EAAAA,OAAO,GAAG,CAAE;AACZC,EAAAA,QAAQ,GAAG,CAAE,CA/DO;;;AAkEtBX,eAAe,CAACoB,SAAhB,CAA0BC,OAA1B,GAAoCrB,eAAe,CAACoB,SAAhB,CAA0BL,IAA9D;;AAEAO,MAAM,CAACC,OAAP,GAAiBvB,eAAjB","sourcesContent":["\"use strict\";\nvar complain = \"MARKO_DEBUG\" && require(\"complain\");\n\nclass ServerComponent {\n  constructor(id, input, out, typeName, customEvents, scope) {\n    this.id = id;\n    this.___customEvents = customEvents;\n    this.___scope = scope;\n    this.typeName = typeName;\n    this.___bubblingDomEvents = undefined; // Used to keep track of bubbling DOM events for components rendered on the server\n    this.___bubblingDomEventsExtraArgsCount = 0;\n\n    this.onCreate(input, out);\n    this.___updatedInput = this.onInput(input, out) || input;\n    if (this.___input === undefined) {\n      this.___input = this.___updatedInput;\n    }\n    this.onRender(out);\n  }\n\n  set input(newInput) {\n    this.___input = newInput;\n  }\n\n  get input() {\n    return this.___input;\n  }\n\n  set state(newState) {\n    this.___state = newState;\n  }\n\n  get state() {\n    return this.___state;\n  }\n\n  get ___rawState() {\n    return this.___state;\n  }\n\n  elId(nestedId) {\n    var id = this.id;\n\n    if (nestedId == null) {\n      return id;\n    } else {\n      if (typeof nestedId !== \"string\") {\n        // eslint-disable-next-line no-constant-condition\n        if (\"MARKO_DEBUG\") {\n          complain(\"Using non strings as keys is deprecated.\");\n        }\n\n        nestedId = String(nestedId);\n      }\n\n      if (nestedId.indexOf(\"#\") === 0) {\n        id = \"#\" + id;\n        nestedId = nestedId.substring(1);\n      }\n\n      return id + \"-\" + nestedId;\n    }\n  }\n\n  onCreate() {}\n  onInput() {}\n  onRender() {}\n}\n\nServerComponent.prototype.getElId = ServerComponent.prototype.elId;\n\nmodule.exports = ServerComponent;\n"],"file":"ServerComponent.js"}