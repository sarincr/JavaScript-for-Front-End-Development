{"version":3,"sources":["../../../../src/runtime/components/registry/index.js"],"names":["copyProps","require","constructorCache","Map","BaseServerComponent","createServerComponentClass","renderingLogic","renderingLogicProps","prototype","ServerComponent","createComponent","id","input","out","typeName","customEvents","scope","get","set","exports"],"mappings":"AAAA;AACA,MAAMA,SAAS,GAAGC,OAAO,CAAC,uBAAD,CAAzB;AACA,MAAMC,gBAAgB,GAAG,IAAIC,GAAJ,EAAzB;AACA,MAAMC,mBAAmB,GAAGH,OAAO,CAAC,oBAAD,CAAnC;;AAEA,SAASI,0BAAT,CAAoCC,cAApC,EAAoD;AAClD,MAAIC,mBAAmB;AACrB,SAAOD,cAAP,KAA0B,UAA1B;AACIA,EAAAA,cAAc,CAACE,SADnB;AAEIF,EAAAA,cAHN;;AAKA,QAAMG,eAAN,SAA8BL,mBAA9B,CAAkD;;AAElDJ,EAAAA,SAAS,CAACO,mBAAD,EAAsBE,eAAe,CAACD,SAAtC,CAAT;;AAEA,SAAOC,eAAP;AACD;AACD,SAASC,eAAT;AACEJ,cADF;AAEEK,EAFF;AAGEC,KAHF;AAIEC,GAJF;AAKEC,QALF;AAMEC,YANF;AAOEC,KAPF;AAQE;AACA,MAAIP,eAAJ;;AAEA,MAAIH,cAAJ,EAAoB;AAClBG,IAAAA,eAAe,GAAGP,gBAAgB,CAACe,GAAjB,CAAqBX,cAArB,CAAlB;;AAEA,QAAI,CAACG,eAAL,EAAsB;AACpBA,MAAAA,eAAe,GAAGJ,0BAA0B,CAACC,cAAD,CAA5C;AACAJ,MAAAA,gBAAgB,CAACgB,GAAjB,CAAqBZ,cAArB,EAAqCG,eAArC;AACD;AACF,GAPD,MAOO;AACLA,IAAAA,eAAe,GAAGL,mBAAlB;AACD;;AAED,SAAO,IAAIK,eAAJ,CAAoBE,EAApB,EAAwBC,KAAxB,EAA+BC,GAA/B,EAAoCC,QAApC,EAA8CC,YAA9C,EAA4DC,KAA5D,CAAP;AACD;;AAEDG,OAAO,IAAP,GAAsB,IAAtB;AACAA,OAAO,IAAP,GAA6BT,eAA7B","sourcesContent":["\"use strict\";\nconst copyProps = require(\"raptor-util/copyProps\");\nconst constructorCache = new Map();\nconst BaseServerComponent = require(\"../ServerComponent\");\n\nfunction createServerComponentClass(renderingLogic) {\n  var renderingLogicProps =\n    typeof renderingLogic === \"function\"\n      ? renderingLogic.prototype\n      : renderingLogic;\n\n  class ServerComponent extends BaseServerComponent {}\n\n  copyProps(renderingLogicProps, ServerComponent.prototype);\n\n  return ServerComponent;\n}\nfunction createComponent(\n  renderingLogic,\n  id,\n  input,\n  out,\n  typeName,\n  customEvents,\n  scope\n) {\n  let ServerComponent;\n\n  if (renderingLogic) {\n    ServerComponent = constructorCache.get(renderingLogic);\n\n    if (!ServerComponent) {\n      ServerComponent = createServerComponentClass(renderingLogic);\n      constructorCache.set(renderingLogic, ServerComponent);\n    }\n  } else {\n    ServerComponent = BaseServerComponent;\n  }\n\n  return new ServerComponent(id, input, out, typeName, customEvents, scope);\n}\n\nexports.___isServer = true;\nexports.___createComponent = createComponent;\n"],"file":"index.js"}